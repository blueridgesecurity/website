// pages/solutions/pentesting.js
import Head from 'next/head';
import { motion } from 'framer-motion';
import { Target, MapPin, Wifi, Database, Users, Lock } from 'react-feather';
import Link from 'next/link';
import ScrollReveal from '../../components/ui/ScrollReveal';
import styles from '../../styles/SolutionPage.module.css';

export default function Pentesting() {
  const containerVariants = {
    hidden: { opacity: 0 },
    show: { opacity: 1, transition: { staggerChildren: 0.12, delayChildren: 0.1 } }
  };

  const itemVariants = {
    hidden: { opacity: 0, y: 20 },
    show: { opacity: 1, y: 0, transition: { duration: 0.6, ease: 'easeOut' } }
  };

  return (
    <>
      <Head>
        <title>Penetration Testing | Blue Ridge Security</title>
        <meta name="description" content="Find your vulnerabilities before attackers do. External, internal, wireless, and physical penetration testing." />
      </Head>

      <motion.div initial="hidden" animate="show" exit={{ opacity: 0 }} variants={containerVariants}>
        {/* HERO SECTION */}
        <section id="hero" className={styles.solutionHero}>
          <div className="container">
            <ScrollReveal>
              <motion.div className={styles.contentNarrow + ' ' + styles.centerText} variants={containerVariants} initial="hidden" animate="show">
                <motion.div variants={itemVariants}>
                  <motion.div animate={{ y: [0, -12, 0] }} transition={{ duration: 4, repeat: Infinity, ease: 'easeInOut' }}>
                    <Target size={72} style={{ color: 'var(--color-primary)', strokeWidth: 1.5 }} />
                  </motion.div>
                </motion.div>
                <motion.h1 className={styles.heroTitle} variants={itemVariants}>
                  <span className={styles.heroTitleGradient}>Penetration Testing </span>
                  <span className={styles.heroTitlePlain}> See Your Security from an Attacker's View</span>
                </motion.h1>
                <motion.h2 className={styles.heroSubtitle} variants={itemVariants}>Real-world attack simulations that reveal vulnerabilities before adversaries do.</motion.h2>
                <motion.p className={styles.heroDescription} variants={itemVariants}>External, internal, and physical penetration testing using the same techniques real attackers use  followed by clear, actionable remediation guidance.</motion.p>
                <motion.div variants={itemVariants}>
                  <Link href="/contact" legacyBehavior>
                    <motion.a whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }} aria-label="Scope Your Penetration Test" className="btn btn-primary">Scope Your Test</motion.a>
                  </Link>
                </motion.div>
                <motion.p variants={itemVariants} style={{margin:'0.6rem 0 0', fontSize:'0.7rem', letterSpacing:'0.4px', color:'var(--color-text-muted-dark)'}}>30-day retest included with every assessment.</motion.p>
              </motion.div>
            </ScrollReveal>
          </div>
        </section>

        {/* WHAT WE TEST */}
        <section id="scope" className="container" style={{padding:'3.5rem 0'}}>
          <ScrollReveal>
            <div style={{ textAlign: 'center', marginBottom: '3rem' }}>
              <h2 className={styles.centerHeading} style={{margin:'0 0 1rem', color:'var(--color-white)'}}>What We Test</h2>
              <p style={{fontSize:'1.05rem', color:'var(--color-text-muted-dark)', margin:'0', maxWidth:'700px', marginLeft:'auto', marginRight:'auto'}}>Comprehensive security assessment across three critical attack surfaces: your network perimeter, internal systems, and physical security.</p>
            </div>
          </ScrollReveal>

          <motion.div style={{display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(300px, 1fr))', gap:'2rem'}} variants={containerVariants} initial="hidden" whileInView="show" viewport={{once:true, amount:0.2}}>
            {[
              { icon: MapPin, title: 'External Testing', desc: 'Simulate attacks from the public internet. Reconnaissance, perimeter breach attempts, web application exploitation, and cloud infrastructure attacks.' },
              { icon: Database, title: 'Internal Testing', desc: 'Assume compromise inside your network. Active Directory attacks, credential harvesting, privilege escalation, lateral movement, and data access.' },
              { icon: Lock, title: 'Physical Testing', desc: 'Evaluate physical security and human factors. Building breach attempts, lock evaluation, access control weaknesses, and social engineering vectors.' },
            ].map((item, i) => {
              const Icon = item.icon;
              return (
                <motion.div key={i} variants={itemVariants} style={{background:'rgba(255,255,255,0.03)', border:'1px solid rgba(0,180,255,0.15)', padding:'2rem', borderRadius:'10px', display:'flex', flexDirection:'column', gap:'1rem'}}>
                  <div style={{color:'var(--color-primary-light)'}}>
                    <Icon size={32} strokeWidth={1.5} />
                  </div>
                  <h3 style={{margin:'0', fontSize:'1.2rem', fontWeight:600, color:'var(--color-white)'}}>{item.title}</h3>
                  <p style={{margin:'0', fontSize:'0.95rem', color:'var(--color-text-muted-dark)', lineHeight:'1.6'}}>{item.desc}</p>
                </motion.div>
              );
            })}
          </motion.div>
        </section>

        {/* EXTERNAL TESTING */}
        <section id="external" className="container" style={{padding:'3.5rem 0', borderTop:'1px solid var(--color-border)', borderBottom:'1px solid var(--color-border)'}}>
          <ScrollReveal>
            <div style={{ marginBottom: '2.5rem' }}>
              <h2 className={styles.centerHeading} style={{textAlign:'left', margin:'0 0 1rem', color:'var(--color-white)'}}>External Penetration Testing</h2>
              <p style={{fontSize:'1rem', color:'var(--color-text-muted-dark)', margin:'0', maxWidth:'750px'}}>Your perimeter is the first line of defense  and often the first point of compromise. We simulate a real attacker operating from the public internet.</p>
            </div>
          </ScrollReveal>

          <motion.div style={{display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(280px, 1fr))', gap:'1.5rem', marginBottom:'2rem'}} variants={containerVariants} initial="hidden" whileInView="show" viewport={{once:true, amount:0.2}}>
            {[
              { title: 'Reconnaissance & OSINT', items: ['Subdomain enumeration', 'DNS mapping', 'Cloud footprint discovery', 'Credential & data leakage', 'Email infrastructure analysis'] },
              { title: 'Perimeter & Infrastructure', items: ['VPN/Firewall weaknesses', 'Password spraying attacks', 'Exposed services (RDP, SSH, APIs)', 'TLS/SSL downgrades', 'Authentication bypass attempts'] },
              { title: 'Web & API Exploitation', items: ['SQL Injection & XSS', 'SSRF & Remote Code Execution', 'Access control flaws', 'API fuzzing & enumeration', 'OWASP Top 10+ vulnerabilities'] },
            ].map((section, i) => (
              <motion.div key={i} variants={itemVariants} style={{background:'rgba(255,255,255,0.02)', border:'1px solid rgba(255,255,255,0.08)', padding:'1.75rem', borderRadius:'10px'}}>
                <h4 style={{margin:'0 0 1rem', fontSize:'1.1rem', fontWeight:600, color:'var(--color-primary-light)'}}>{section.title}</h4>
                <ul style={{margin:'0', paddingLeft:'1.2rem', fontSize:'0.9rem', color:'var(--color-text-muted-dark)', lineHeight:'1.8'}}>
                  {section.items.map((item, j) => <li key={j}>{item}</li>)}
                </ul>
              </motion.div>
            ))}
          </motion.div>
        </section>

        {/* INTERNAL TESTING */}
        <section id="internal" className="container" style={{padding:'3.5rem 0'}}>
          <ScrollReveal>
            <div style={{ marginBottom: '2.5rem' }}>
              <h2 className={styles.centerHeading} style={{textAlign:'left', margin:'0 0 1rem', color:'var(--color-white)'}}>Internal Penetration Testing</h2>
              <p style={{fontSize:'1rem', color:'var(--color-text-muted-dark)', margin:'0', maxWidth:'750px'}}>Internal testing simulates an attacker already on your network  the most dangerous threat. This is where most real breaches expand.</p>
            </div>
          </ScrollReveal>

          <motion.div style={{display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(280px, 1fr))', gap:'1.5rem', marginBottom:'2rem'}} variants={containerVariants} initial="hidden" whileInView="show" viewport={{once:true, amount:0.2}}>
            {[
              { title: 'Network & Discovery', items: ['VLAN mapping', 'Active Directory enumeration', 'Host discovery & OS fingerprinting', 'Network segmentation validation'] },
              { title: 'Credential & Auth Attacks', items: ['Kerberoasting & AS-REP roasting', 'NTLM relay attacks', 'Credential harvesting', 'Password spraying & hash cracking'] },
              { title: 'Privilege Escalation', items: ['Local privilege escalation', 'Group Policy Object abuse', 'Unpatched system exploitation', 'Service account misconfigurations'] },
              { title: 'Lateral Movement', items: ['Pass-the-Hash / Pass-the-Ticket', 'SMB/RDP/WMI pivoting', 'WinRM relay attacks', 'Cross-segment traversal'] },
              { title: 'Data & Exfiltration', items: ['Sensitive file discovery', 'Share & NAS misconfigurations', 'Credential in clear text', 'Data access & exfiltration'] },
            ].map((section, i) => (
              <motion.div key={i} variants={itemVariants} style={{background:'rgba(255,255,255,0.02)', border:'1px solid rgba(255,255,255,0.08)', padding:'1.75rem', borderRadius:'10px'}}>
                <h4 style={{margin:'0 0 1rem', fontSize:'1.1rem', fontWeight:600, color:'var(--color-primary-light)'}}>{section.title}</h4>
                <ul style={{margin:'0', paddingLeft:'1.2rem', fontSize:'0.9rem', color:'var(--color-text-muted-dark)', lineHeight:'1.8'}}>
                  {section.items.map((item, j) => <li key={j}>{item}</li>)}
                </ul>
              </motion.div>
            ))}
          </motion.div>
        </section>

        {/* PHYSICAL TESTING */}
        <section id="physical" className="container" style={{padding:'3.5rem 0', borderTop:'1px solid var(--color-border)', borderBottom:'1px solid var(--color-border)', background:'linear-gradient(180deg, rgba(0,180,255,0.02), transparent)'}}>
          <ScrollReveal>
            <div style={{ marginBottom: '2.5rem' }}>
              <h2 className={styles.centerHeading} style={{textAlign:'left', margin:'0 0 1rem', color:'var(--color-white)'}}>Physical Penetration Testing</h2>
              <p style={{fontSize:'1rem', color:'var(--color-text-muted-dark)', margin:'0', maxWidth:'750px'}}>Technology alone doesn't stop attackers. Physical access bypasses every digital defense. We simulate real intruders attempting to breach your facilities.</p>
            </div>
          </ScrollReveal>

          <motion.div style={{display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(280px, 1fr))', gap:'1.5rem'}} variants={containerVariants} initial="hidden" whileInView="show" viewport={{once:true, amount:0.2}}>
            {[
              { title: 'Building & Perimeter', items: ['Lock & door bypass techniques', 'Badge cloning & RFID attacks', 'Tailgating & piggybacking', 'Maintenance entrance testing', 'Blind spot identification'] },
              { title: 'Access Control Systems', items: ['Keypad bypass evaluation', 'Magnetic lock weaknesses', 'Biometric system testing', 'Camera coverage analysis', 'Egress barrier testing'] },
              { title: 'Server Room & Critical Assets', items: ['Server room breach attempts', 'Rogue device insertion', 'Unprotected wiring closets', 'Power distribution access', 'Physical device tampering'] },
              { title: 'Social Engineering', items: ['Vendor impersonation', 'IT support posing', 'Helpdesk exploitation', 'Credential elicitation', 'Pretexting scenarios'] },
              { title: 'Wireless & Signals', items: ['Evil Twin attacks', 'Rogue AP placement', 'Signal strength mapping', 'Credential interception', 'External WiFi extension'] },
              { title: 'Data Disposal', items: ['Document destruction validation', 'Sensitive material in trash', 'Hardware disposal gaps', 'Dumpster diving results', 'Data recovery from discarded items'] },
            ].map((section, i) => (
              <motion.div key={i} variants={itemVariants} style={{background:'rgba(255,255,255,0.02)', border:'1px solid rgba(0,180,255,0.1)', padding:'1.75rem', borderRadius:'10px'}}>
                <h4 style={{margin:'0 0 1rem', fontSize:'1.1rem', fontWeight:600, color:'var(--color-primary-light)'}}>{section.title}</h4>
                <ul style={{margin:'0', paddingLeft:'1.2rem', fontSize:'0.9rem', color:'var(--color-text-muted-dark)', lineHeight:'1.8'}}>
                  {section.items.map((item, j) => <li key={j}>{item}</li>)}
                </ul>
              </motion.div>
            ))}
          </motion.div>
        </section>

        {/* METHODOLOGY */}
        <section id="methodology" className="container" style={{padding:'3.5rem 0'}}>
          <ScrollReveal>
            <div style={{ marginBottom: '3rem', textAlign: 'center' }}>
              <h2 className={styles.centerHeading} style={{margin:'0 0 1rem', color:'var(--color-white)'}}>Our Testing Methodology</h2>
              <p style={{fontSize:'1.05rem', color:'var(--color-text-muted-dark)', margin:'0', maxWidth:'700px', marginLeft:'auto', marginRight:'auto'}}>We follow the attacker's playbook: reconnaissance, scanning, exploitation, post-exploitation, and reporting.</p>
            </div>
          </ScrollReveal>

          <motion.div style={{display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(240px, 1fr))', gap:'2rem'}} variants={containerVariants} initial="hidden" whileInView="show" viewport={{once:true, amount:0.2}}>
            {[
              { num: '1', title: 'Scoping & Planning', desc: 'Define rules of engagement, scope boundaries, and testing windows.' },
              { num: '2', title: 'Reconnaissance', desc: 'Passive and active information gathering using real attack techniques.' },
              { num: '3', title: 'Scanning & Enumeration', desc: 'Automated and manual vulnerability discovery.' },
              { num: '4', title: 'Exploitation', desc: 'Active testing to validate true risk and achievable impact.' },
              { num: '5', title: 'Post-Exploitation', desc: 'Privilege escalation and lateral movement to show business impact.' },
              { num: '6', title: 'Reporting & Retest', desc: 'Clear findings, remediation guidance, and 30-day retest window.' },
            ].map((phase, i) => (
              <motion.div key={i} variants={itemVariants} style={{background:'rgba(255,255,255,0.03)', border:'1px solid rgba(0,180,255,0.15)', padding:'2rem', borderRadius:'10px', textAlign:'center', display:'flex', flexDirection:'column', gap:'1rem'}}>
                <div style={{fontSize:'2rem', fontWeight:700, color:'var(--color-primary-light)'}}>{phase.num}</div>
                <h4 style={{margin:'0', fontSize:'1.1rem', fontWeight:600, color:'var(--color-white)'}}>{phase.title}</h4>
                <p style={{margin:'0', fontSize:'0.9rem', color:'var(--color-text-muted-dark)', lineHeight:'1.6'}}>{phase.desc}</p>
              </motion.div>
            ))}
          </motion.div>
        </section>

        {/* DELIVERABLES */}
        <section id="deliverables" className="container" style={{padding:'3.5rem 0', borderTop:'1px solid var(--color-border)'}}>
          <ScrollReveal>
            <div style={{ marginBottom: '2.5rem' }}>
              <h2 className={styles.centerHeading} style={{textAlign:'left', margin:'0 0 1rem', color:'var(--color-white)'}}>What You Receive</h2>
              <p style={{fontSize:'1rem', color:'var(--color-text-muted-dark)', margin:'0', maxWidth:'750px'}}>Every penetration test includes comprehensive documentation designed for both technical teams and executive stakeholders.</p>
            </div>
          </ScrollReveal>

          <motion.div style={{display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(300px, 1fr))', gap:'1.5rem'}} variants={containerVariants} initial="hidden" whileInView="show" viewport={{once:true, amount:0.2}}>
            {[
              { title: 'Executive Summary', desc: 'Clear, non-technical overview of findings and strategic recommendations for leadership.' },
              { title: 'Technical Findings Report', desc: 'Detailed vulnerability descriptions with proof-of-concept evidence and impact analysis.' },
              { title: 'Risk Scoring (CVSS)', desc: 'Standardized severity ratings for every finding to aid prioritization.' },
              { title: 'Remediation Guidance', desc: 'Step-by-step instructions and best practices to fix each vulnerability.' },
              { title: 'Attack Path Diagrams', desc: 'Visual representation of how vulnerabilities chain together for maximum impact.' },
              { title: '30-Day Retest', desc: 'Validation that all critical and high findings are properly remediated.' },
            ].map((deliverable, i) => (
              <motion.div key={i} variants={itemVariants} style={{background:'rgba(255,255,255,0.02)', border:'1px solid rgba(255,255,255,0.08)', padding:'2rem', borderRadius:'10px'}}>
                <h4 style={{margin:'0 0 0.75rem', fontSize:'1.05rem', fontWeight:600, color:'var(--color-primary-light)'}}>{deliverable.title}</h4>
                <p style={{margin:'0', fontSize:'0.9rem', color:'var(--color-text-muted-dark)', lineHeight:'1.6'}}>{deliverable.desc}</p>
              </motion.div>
            ))}
          </motion.div>
        </section>

        {/* WHY BLUE RIDGE */}
        <section id="why" className="container" style={{padding:'3.5rem 0', borderTop:'1px solid var(--color-border)'}}>
          <ScrollReveal>
            <div style={{ marginBottom: '2.5rem', textAlign: 'center' }}>
              <h2 className={styles.centerHeading} style={{margin:'0 0 1rem', color:'var(--color-white)'}}>Why Blue Ridge Security</h2>
            </div>
          </ScrollReveal>

          <motion.div style={{display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(280px, 1fr))', gap:'2rem'}} variants={containerVariants} initial="hidden" whileInView="show" viewport={{once:true, amount:0.2}}>
            {[
              { title: 'Real Offensive Expertise', desc: 'Certified testers using the same techniques real adversaries use  not just automated scanning.' },
              { title: 'Full-Spectrum Testing', desc: 'External, internal, and physical all included. Comprehensive view of your entire attack surface.' },
              { title: 'Actionable Reporting', desc: 'Clear findings, prioritized by impact, with step-by-step remediation guidance your team can actually use.' },
              { title: 'Built for Your Size', desc: 'Designed specifically for K-12, local government, and mid-market organizations. Enterprise rigor, local pricing.' },
              { title: 'Verified Results', desc: '30-day retest included at no extra cost. We confirm every fix actually works.' },
              { title: 'Local & Responsive', desc: 'Direct access to your testing team. Real communication. Real support. Real availability.' },
            ].map((reason, i) => (
              <motion.div key={i} variants={itemVariants} style={{background:'rgba(255,255,255,0.03)', border:'1px solid rgba(0,180,255,0.15)', padding:'2rem', borderRadius:'10px'}}>
                <h4 style={{margin:'0 0 0.75rem', fontSize:'1.05rem', fontWeight:600, color:'var(--color-primary-light)'}}>{reason.title}</h4>
                <p style={{margin:'0', fontSize:'0.9rem', color:'var(--color-text-muted-dark)', lineHeight:'1.6'}}>{reason.desc}</p>
              </motion.div>
            ))}
          </motion.div>
        </section>

        {/* CTA */}
        <section style={{padding:'4rem 0', background:'linear-gradient(180deg, rgba(0,180,255,0.02), transparent)', borderTop:'1px solid var(--color-border)'}}>
          <div className="container">
            <ScrollReveal>
              <div style={{textAlign:'center', maxWidth:'700px', marginLeft:'auto', marginRight:'auto'}}>
                <h2 style={{fontSize:'2.5rem', fontWeight:700, margin:'0 0 1rem', color:'var(--color-white)'}}>Ready to Test Your Security?</h2>
                <p style={{fontSize:'1.05rem', color:'var(--color-text-muted-dark)', margin:'0 0 2rem', lineHeight:'1.6'}}>Let's see your environment through an attacker's eyes and fix the real vulnerabilities before they become breaches.</p>
                <Link href="/contact" legacyBehavior>
                  <motion.a whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }} style={{display:'inline-block', padding:'1rem 2.5rem', background:'linear-gradient(90deg, #0b63a8 0%, var(--color-accent) 100%)', color:'white', textDecoration:'none', borderRadius:'8px', fontWeight:600, fontSize:'1rem', border:'none', cursor:'pointer', boxShadow:'0 8px 24px rgba(9, 61, 110, 0.35)'}}>
                    Schedule a Test Scope
                  </motion.a>
                </Link>
              </div>
            </ScrollReveal>
          </div>
        </section>
      </motion.div>
    </>
  );
}
