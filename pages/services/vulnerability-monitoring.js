// pages/services/vulnerability-monitoring.js - Vulnerability Surface & Exposure Monitoring
import Head from 'next/head';
import { motion } from 'framer-motion';
import { Search, AlertTriangle, Eye, TrendingDown, Server, Database, Zap } from 'react-feather';
import Link from 'next/link';
import ScrollReveal from '../../components/ui/ScrollReveal';
import styles from '../../styles/SolutionPage.module.css';

export default function VulnerabilityMonitoring() {
  return (
    <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} transition={{ duration: 0.5 }}>
      <Head>
        <title>Blue Ridge Vulnerability Surface & Exposure Monitoring</title>
        <meta name="description" content="Continuous vulnerability scanning, patch compliance, SSL/TLS review, DNS posture analysis, open port enumeration, software dependency scanning." />
      </Head>

      {/* HERO - Continuous Visibility - PREMIUM ENHANCED */}
      <section id="hero" className={styles.solutionHero} style={{background:'linear-gradient(135deg, rgba(255,153,0,0.08) 0%, rgba(200,120,0,0.04) 100%)', position:'relative', overflow:'hidden'}}>
        {/* Animated gradient backgrounds */}
        <motion.div
          animate={{opacity:[0.1, 0.2, 0.1]}}
          transition={{duration:4, repeat:Infinity}}
          style={{
            position:'absolute',
            top:'-50%',
            right:'-20%',
            width:'600px',
            height:'600px',
            background:'radial-gradient(circle, rgba(255,153,0,0.15) 0%, transparent 70%)',
            borderRadius:'50%',
            zIndex:0,
            filter:'blur(40px)'
          }}
        />
        <motion.div
          animate={{opacity:[0.05, 0.15, 0.05]}}
          transition={{duration:5, repeat:Infinity, delay:0.5}}
          style={{
            position:'absolute',
            bottom:'-30%',
            left:'10%',
            width:'500px',
            height:'500px',
            background:'radial-gradient(circle, rgba(200,120,0,0.1) 0%, transparent 70%)',
            borderRadius:'50%',
            zIndex:0,
            filter:'blur(40px)'
          }}
        />
        
        <div className="container" style={{position:'relative', zIndex:2}}>
          <ScrollReveal>
            <div className={styles.contentNarrow + ' ' + styles.centerText}>
              <motion.div initial={{scale:0, rotate:-180}} animate={{scale:1, rotate:0}} transition={{duration:0.8, type:'spring', stiffness:100}} style={{display:'inline-block', marginBottom:'2rem'}}>
                <motion.div
                  animate={{rotate:[0, 360]}}
                  transition={{duration:8, repeat:Infinity, ease:'linear'}}
                  style={{display:'flex', alignItems:'center', justifyContent:'center'}}
                >
                  <Search size={100} style={{color:'#ff9900'}} strokeWidth={1.5} />
                </motion.div>
              </motion.div>
              <h1 className={styles.heroTitle} style={{fontSize:'3.8rem', letterSpacing:'-1.5px', textShadow:'0 10px 30px rgba(255,153,0,0.2)'}}>
                <span style={{color:'#ff9900'}}>See What Attackers See.</span>
                <span className={styles.heroTitlePlain}> Before They Attack.</span>
              </h1>
              <h2 className={styles.heroSubtitle} style={{fontSize:'1.4rem', fontWeight:500}}>Continuous vulnerability scanning, asset enumeration, and exposure reduction.</h2>
              <p className={styles.heroDescription} style={{fontSize:'1.05rem', lineHeight:1.8}}>Your external attack surface mapped in real-time. Vulnerable systems identified. Patch priority ranked.</p>
              <Link href="/contact" legacyBehavior>
                <a className="btn btn-primary" style={{display:'inline-flex', alignItems:'center', gap:'0.7rem', padding:'1.2rem 3rem', fontSize:'1.08rem'}} onClick={() => window.dispatchEvent(new CustomEvent('analytics.cta',{detail:{location:'hero'}}))}>Start Exposure Mapping <TrendingDown size={22} /></a>
              </Link>
            </div>
          </ScrollReveal>
        </div>
      </section>

      {/* CONTINUOUS SCANNING - What we scan */}
      <section className={styles.solutionSection}>
        <div className="container">
          <ScrollReveal>
            <h2 className={styles.sectionTitle}>Continuous Asset Discovery & Scanning</h2>
            <p style={{textAlign:'center', fontSize:'0.95rem', color:'var(--color-text-muted-dark)', marginBottom:'2rem', maxWidth:'800px', margin:'0 auto 2rem'}}>
              We scan like attackers do. We find what they find.
            </p>
          </ScrollReveal>

          <div style={{display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(240px, 1fr))', gap:'1.5rem', maxWidth:'1200px', margin:'0 auto', marginBottom:'3rem'}}>
            {[
              {icon:Server, title:'Network Scanning', items:['IP range enumeration', 'Port scanning & fingerprinting', 'Service identification', 'Open port analysis']},
              {icon:Eye, title:'DNS & Domain', items:['DNS record analysis', 'Subdomain enumeration', 'Certificate transparency', 'Domain takeover risk']},
              {icon:Server, title:'System Vulnerabilities', items:['Patch level detection', 'OS vulnerability mapping', 'Version scanning', 'EOL software detection']},
              {icon:Database, title:'Software Dependencies', items:['Library scanning', 'Known CVE matching', 'Dependency chains', 'Nested vulnerability detection']},
              {icon:Zap, title:'SSL/TLS Posture', items:['Certificate expiration', 'Cipher suite analysis', 'Protocol version review', 'Key strength validation']},
              {icon:AlertTriangle, title:'Configuration Issues', items:['Firewall misconfig', 'Default credentials', 'Exposed services', 'Misconfigured buckets']}
            ].map((area, i) => (
              <ScrollReveal key={i}>
                <motion.div
                  whileHover={{y:-8}}
                  style={{
                    background:'linear-gradient(135deg, rgba(255,153,0,0.08) 0%, rgba(200,120,0,0.04) 100%)',
                    border:'1px solid rgba(255,153,0,0.15)',
                    borderRadius:'12px',
                    padding:'1.5rem'
                  }}
                >
                  <area.icon size={36} style={{color:'#ff9900', marginBottom:'1rem'}} />
                  <h3 style={{fontSize:'1rem', fontWeight:700, marginBottom:'1rem'}}>{area.title}</h3>
                  <ul style={{listStyle:'none', padding:0, margin:0}}>
                    {area.items.map((item, j) => (
                      <li key={j} style={{marginBottom:'0.5rem', fontSize:'0.85rem'}}>
                        ◆ {item}
                      </li>
                    ))}
                  </ul>
                </motion.div>
              </ScrollReveal>
            ))}
          </div>

          {/* Automated Workflow */}
          <ScrollReveal>
            <div style={{background:'rgba(255,153,0,0.05)', border:'2px dashed rgba(255,153,0,0.3)', borderRadius:'12px', padding:'2rem', maxWidth:'1000px', margin:'0 auto'}}>
              <h3 style={{fontSize:'1.2rem', fontWeight:700, marginBottom:'1.5rem', textAlign:'center'}}>Continuous Scanning Workflow</h3>
              <div style={{display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(180px, 1fr))', gap:'1rem'}}>
                {[
                  {num:'1', title:'Discovery', desc:'Map all internet-facing assets weekly'},
                  {num:'2', title:'Enumeration', desc:'Identify open ports and services'},
                  {num:'3', title:'Scanning', desc:'Run vulnerability checks daily'},
                  {num:'4', title:'Analysis', desc:'Correlate findings across systems'},
                  {num:'5', title:'Prioritization', desc:'Rank by CVSS and exploitability'},
                  {num:'6', title:'Reporting', desc:'Real-time dashboard + daily alerts'}
                ].map((step, i) => (
                  <motion.div
                    key={i}
                    animate={{y:[0, -5, 0]}}
                    transition={{duration:2, repeat:Infinity, delay:i*0.15}}
                    style={{
                      background:'rgba(255,153,0,0.08)',
                      border:'1px solid rgba(255,153,0,0.2)',
                      borderRadius:'8px',
                      padding:'1rem',
                      textAlign:'center'
                    }}
                  >
                    <div style={{fontSize:'1.3rem', fontWeight:700, color:'#ff9900', marginBottom:'0.3rem'}}>{step.num}</div>
                    <div style={{fontSize:'0.9rem', fontWeight:700, marginBottom:'0.3rem'}}>{step.title}</div>
                    <div style={{fontSize:'0.8rem', color:'var(--color-text-muted-dark)'}}>{step.desc}</div>
                  </motion.div>
                ))}
              </div>
            </div>
          </ScrollReveal>
        </div>
      </section>

      {/* PRIORITY MATRIX - Risk-based remediation */}
      <section className={styles.solutionSection} style={{background:'rgba(255,153,0,0.02)'}}>
        <div className="container">
          <ScrollReveal>
            <h2 className={styles.sectionTitle}>Risk-Based Prioritization</h2>
            <p style={{textAlign:'center', fontSize:'0.95rem', color:'var(--color-text-muted-dark)', marginBottom:'2rem', maxWidth:'800px', margin:'0 auto 2rem'}}>
              CVSS scores don't tell the whole story. We prioritize by real-world exploitability and business impact.
            </p>
          </ScrollReveal>

          <div style={{display:'grid', gridTemplateColumns:'1fr 1fr', gap:'2rem', maxWidth:'1100px', margin:'0 auto', alignItems:'center'}}>
            <ScrollReveal>
              <div>
                <h3 style={{fontSize:'1.2rem', fontWeight:700, marginBottom:'1.5rem'}}>Prioritization Factors</h3>
                <ul style={{listStyle:'none', padding:0, margin:0}}>
                  {[
                    {label:'CVSS Score', desc:'Vulnerability severity (0-10 scale)'},
                    {label:'Exploitability', desc:'Public exploits available? Easy to weaponize?'},
                    {label:'Asset Value', desc:'What systems are affected? Business-critical?'},
                    {label:'Network Position', desc:'Internet-facing? Accessible from inside?'},
                    {label:'Patch Availability', desc:'Fix available? Deployment timeline?'},
                    {label:'Detection Risk', desc:'Can we detect active exploitation?'}
                  ].map((item, i) => (
                    <li key={i} style={{marginBottom:'1.2rem', display:'flex', gap:'1rem'}}>
                      <div style={{
                        width:'24px',
                        height:'24px',
                        background:'#ff9900',
                        borderRadius:'50%',
                        display:'flex',
                        alignItems:'center',
                        justifyContent:'center',
                        fontWeight:700,
                        fontSize:'0.8rem',
                        flexShrink:0
                      }}>
                        {i+1}
                      </div>
                      <div>
                        <div style={{fontWeight:700, marginBottom:'0.2rem'}}>{item.label}</div>
                        <div style={{fontSize:'0.9rem', color:'var(--color-text-muted-dark)'}}>{item.desc}</div>
                      </div>
                    </li>
                  ))}
                </ul>
              </div>
            </ScrollReveal>

            <ScrollReveal>
              <motion.div
                animate={{scale:[1, 1.02, 1]}}
                transition={{duration:3, repeat:Infinity}}
                style={{
                  background:'linear-gradient(135deg, rgba(255,153,0,0.1) 0%, rgba(200,120,0,0.05) 100%)',
                  border:'2px solid rgba(255,153,0,0.2)',
                  borderRadius:'12px',
                  padding:'2rem',
                  textAlign:'center'
                }}
              >
                <div style={{marginBottom:'1.5rem'}}>
                  <div style={{fontSize:'0.85rem', fontWeight:700, letterSpacing:'1px', marginBottom:'0.8rem', color:'#ff9900'}}>DASHBOARD SNAPSHOT</div>
                  <div style={{display:'grid', gridTemplateColumns:'1fr 1fr', gap:'1rem', marginBottom:'1.5rem'}}>
                    {[
                      {label:'CRITICAL', count:'3', color:'#ff5252'},
                      {label:'HIGH', count:'12', color:'#ff9900'},
                      {label:'MEDIUM', count:'28', color:'#ffb74d'},
                      {label:'LOW', count:'145', color:'var(--color-text-muted-dark)'}
                    ].map((item, i) => (
                      <div key={i} style={{background:'rgba(0,0,0,0.2)', borderRadius:'6px', padding:'0.8rem'}}>
                        <div style={{fontSize:'0.75rem', fontWeight:700, color:item.color, marginBottom:'0.3rem'}}>{item.label}</div>
                        <div style={{fontSize:'1.5rem', fontWeight:700, color:item.color}}>{item.count}</div>
                      </div>
                    ))}
                  </div>
                  <div style={{fontSize:'0.9rem', color:'var(--color-text-muted-dark)', lineHeight:1.6}}>
                    Updated hourly from continuous scans. Fix the Critical items today. Plan Medium/Low remediation systematically.
                  </div>
                </div>
              </motion.div>
            </ScrollReveal>
          </div>
        </div>
      </section>

      {/* REMEDIATION GUIDANCE - Not just alerts */}
      <section className={styles.solutionSection}>
        <div className="container">
          <ScrollReveal>
            <h2 className={styles.sectionTitle}>Remediation Guidance & Attack Footprint Reduction</h2>
          </ScrollReveal>

          <div style={{display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(280px, 1fr))', gap:'1.5rem', maxWidth:'1200px', margin:'0 auto'}}>
            {[
              {title:'Patch Strategies', items:['Phased deployment plans', 'Vendor availability tracking', 'Risk of not patching', 'Testing recommendations', 'Rollback procedures']},
              {title:'Configuration Hardening', items:['Service disablement', 'Firewall rule recommendations', 'Credential lockdown', 'Protocol downgrade', 'Default account removal']},
              {title:'Network Segmentation', items:['VLAN isolation', 'DMZ redesign', 'Access control lists', 'Traffic filtering', 'Zero-trust architecture']},
              {title:'Asset Reduction', items:['Decommission old systems', 'Cloud resource cleanup', 'Legacy service removal', 'Domain consolidation', 'DNS record cleanup']}
            ].map((area, i) => (
              <ScrollReveal key={i}>
                <motion.div
                  whileHover={{y:-4}}
                  style={{
                    background:'linear-gradient(135deg, rgba(255,153,0,0.08) 0%, rgba(200,120,0,0.04) 100%)',
                    border:'1px solid rgba(255,153,0,0.15)',
                    borderRadius:'12px',
                    padding:'1.5rem'
                  }}
                >
                  <h3 style={{fontSize:'1rem', fontWeight:700, marginBottom:'1rem'}}>{area.title}</h3>
                  <ul style={{listStyle:'none', padding:0, margin:0}}>
                    {area.items.map((item, j) => (
                      <li key={j} style={{marginBottom:'0.6rem', fontSize:'0.9rem'}}>
                        → {item}
                      </li>
                    ))}
                  </ul>
                </motion.div>
              </ScrollReveal>
            ))}
          </div>
        </div>
      </section>

      {/* CTA */}
      <section className={styles.solutionSection} style={{background:'linear-gradient(135deg, rgba(255,153,0,0.04) 0%, rgba(200,120,0,0.02) 100%)'}}>
        <div className="container">
          <ScrollReveal>
            <div className={styles.contentNarrow + ' ' + styles.centerText}>
              <h2 style={{fontSize:'1.6rem', fontWeight:700, marginBottom:'1rem'}}>Ready for Continuous Visibility?</h2>
              <p style={{fontSize:'1rem', lineHeight:1.7, marginBottom:'1.5rem', color:'var(--color-text-muted-dark)'}}>
                Start with a baseline scan of your external attack surface. See what's exposed. Fix it systematically.
              </p>
              <Link href="/contact" legacyBehavior>
                <a className="btn btn-primary" onClick={() => window.dispatchEvent(new CustomEvent('analytics.cta',{detail:{location:'final'}}))}>Request Exposure Baseline</a>
              </Link>
            </div>
          </ScrollReveal>
        </div>
      </section>
    </motion.div>
  );
}
